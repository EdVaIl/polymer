<!doctype html>
<html>
  <head>
    <title>iron-list-scroll-problem</title>
    <script src="bower_components/webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="elements/elements.html">
    <!--
    <script src="https://rawgit.com/edvail/polymer/master/dist/bower_components/webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="https://rawgit.com/edvail/polymer/master/dist/elements/elements.vulcanized.html">
    -->
  </head>
  <body unresolved class="fullbleed layout vertical">
    <template is="dom-bind" id="app">
      <iron-ajax id="get_filltext_ajax" auto
        url="//www.filltext.com/"
        params='{"rows": "1000", "fname":"{firstName}", "lname": "{lastName}", "address": "{streetAddress}",
        "city": "{city}", "state": "{usState|abb}", "zip": "{zip}", "integer": "{number|100}",
        "business": "{business}", "index": "{index}"}'
        handle-as="json"
        loading="{{loading}}"
        last-response="{{people}}">
      </iron-ajax>
      <paper-scroll-header-panel class="flex" condenses keep-condensed-header>
        <paper-toolbar class="tall">
          <paper-icon-button icon="arrow-back"></paper-icon-button>
          <div class="flex"></div>
          <paper-icon-button icon="search"></paper-icon-button>
          <paper-icon-button icon="refresh" on-tap="refreshData"></paper-icon-button>
          <paper-icon-button icon="more-vert"></paper-icon-button>

          <div class="middle middle-container center horizontal layout">
            <div class="title">iron-list & filltext.com</div>
          </div>
          <div class="bottom bottom-container center horizontal layout">
            <div class="bottom-title">
              <span class="length">Rows: <span>{{people.length}}</span></span>
              <paper-spinner active="{{loading}}"></paper-spinner>
            </div>
          </div>
        </paper-toolbar>
        <div id="problem" class="fullbleed layout vertical">
          <iron-list items="[[people]]" as="item" class="flex">
            <template>
              <paper-item>
                <paper-item-body three-line>
                  <div><span>[[item.fname]]</span> <span>[[item.lname]]</span></div>
                  <div secondary><span>[[item.address]]</span> <span>[[item.city]]</span></div>
                  <div secondary><span>[[index]]</span>: <span>[[item.city]]</span>, <span>[[item.state]]</span>  <span>[[item.zip]]</span></div>
                </paper-item-body>
                <iron-icon icon$="[[iconForItem(item)]]"></iron-icon>
              </paper-item>
            </template>
          </iron-list>
        </div>
      </paper-scroll-header-panel>
    </template>
  </body>
</html>
